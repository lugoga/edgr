<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Control flow | A glimpse of GIS and Remote Sensing with R</title>
  <meta name="description" content="Introdution to geographical information system and remote sensing using an open source and powerful statical tool, R" />
  <meta name="generator" content="bookdown 0.10 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Control flow | A glimpse of GIS and Remote Sensing with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Introdution to geographical information system and remote sensing using an open source and powerful statical tool, R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Control flow | A glimpse of GIS and Remote Sensing with R" />
  
  <meta name="twitter:description" content="Introdution to geographical information system and remote sensing using an open source and powerful statical tool, R" />
  

<meta name="author" content="Masumbuko Semba" />


<meta name="date" content="2019-06-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="working-with-dates-and-time.html">
<link rel="next" href="functions-and-packages.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.6/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<script src="libs/Dygraph.Plugins.Unzoom-1.0/unzoom.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A glimpse of GIS and Remote Sensing with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="sources.html"><a href="sources.html"><i class="fa fa-check"></i>Sources</a></li>
<li class="chapter" data-level="" data-path="note-to-the-reader.html"><a href="note-to-the-reader.html"><i class="fa fa-check"></i>Note to the reader</a></li>
<li class="chapter" data-level="" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i>What is R?</a></li>
<li class="chapter" data-level="" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i>Who is this book for?</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#why-learn-computer-programming"><i class="fa fa-check"></i><b>1.1</b> Why learn computer Programming?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#learning-to-program"><i class="fa fa-check"></i><b>1.2</b> Learning to program</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#programming-in-r"><i class="fa fa-check"></i><b>1.3</b> Programming in R</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#what-is-r-1"><i class="fa fa-check"></i><b>1.3.1</b> What is R?</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#installing-r"><i class="fa fa-check"></i><b>1.3.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#what-is-rstudio"><i class="fa fa-check"></i><b>1.3.3</b> What is RStudio?</a></li>
<li class="chapter" data-level="1.3.4" data-path="intro.html"><a href="intro.html#basic-features-of-rstudio"><i class="fa fa-check"></i><b>1.3.4</b> Basic Features of RStudio</a></li>
<li class="chapter" data-level="1.3.5" data-path="intro.html"><a href="intro.html#rstudio-editor"><i class="fa fa-check"></i><b>1.3.5</b> Rstudio editor</a></li>
<li class="chapter" data-level="1.3.6" data-path="intro.html"><a href="intro.html#rmarkdown"><i class="fa fa-check"></i><b>1.3.6</b> Rmarkdown</a></li>
<li class="chapter" data-level="1.3.7" data-path="intro.html"><a href="intro.html#use-descriptive-names"><i class="fa fa-check"></i><b>1.3.7</b> Use descriptive names</a></li>
<li class="chapter" data-level="1.3.8" data-path="intro.html"><a href="intro.html#use-comments"><i class="fa fa-check"></i><b>1.3.8</b> Use comments</a></li>
<li class="chapter" data-level="1.3.9" data-path="intro.html"><a href="intro.html#getting-help-in-r"><i class="fa fa-check"></i><b>1.3.9</b> Getting Help in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="get-started.html"><a href="get-started.html"><i class="fa fa-check"></i><b>2</b> Getting started</a><ul>
<li class="chapter" data-level="2.1" data-path="get-started.html"><a href="get-started.html#maths-in-r"><i class="fa fa-check"></i><b>2.1</b> Maths in R</a><ul>
<li class="chapter" data-level="2.1.1" data-path="get-started.html"><a href="get-started.html#r-operators"><i class="fa fa-check"></i><b>2.1.1</b> R operators</a></li>
<li class="chapter" data-level="2.1.2" data-path="get-started.html"><a href="get-started.html#precedence"><i class="fa fa-check"></i><b>2.1.2</b> Precedence</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="get-started.html"><a href="get-started.html#assignment-operator"><i class="fa fa-check"></i><b>2.2</b> Assignment operator</a><ul>
<li class="chapter" data-level="2.2.1" data-path="get-started.html"><a href="get-started.html#variables"><i class="fa fa-check"></i><b>2.2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2.2" data-path="get-started.html"><a href="get-started.html#naming-conventions"><i class="fa fa-check"></i><b>2.2.2</b> Naming conventions</a></li>
<li class="chapter" data-level="2.2.3" data-path="get-started.html"><a href="get-started.html#functions"><i class="fa fa-check"></i><b>2.2.3</b> Functions</a></li>
<li class="chapter" data-level="2.2.4" data-path="get-started.html"><a href="get-started.html#essential-functions"><i class="fa fa-check"></i><b>2.2.4</b> Essential functions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="get-started.html"><a href="get-started.html#wdirectory"><i class="fa fa-check"></i><b>2.3</b> Setting Working Directory</a></li>
<li class="chapter" data-level="2.4" data-path="get-started.html"><a href="get-started.html#packages-or-libraries"><i class="fa fa-check"></i><b>2.4</b> Packages or Libraries</a><ul>
<li class="chapter" data-level="2.4.1" data-path="get-started.html"><a href="get-started.html#installing-packages"><i class="fa fa-check"></i><b>2.4.1</b> Installing packages</a></li>
<li class="chapter" data-level="2.4.2" data-path="get-started.html"><a href="get-started.html#loading-packages"><i class="fa fa-check"></i><b>2.4.2</b> Loading packages</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="get-started.html"><a href="get-started.html#understanding-data-in-r"><i class="fa fa-check"></i><b>2.5</b> Understanding Data in R</a><ul>
<li class="chapter" data-level="2.5.1" data-path="get-started.html"><a href="get-started.html#data-types"><i class="fa fa-check"></i><b>2.5.1</b> Data Types</a></li>
<li class="chapter" data-level="2.5.2" data-path="get-started.html"><a href="get-started.html#vectors"><i class="fa fa-check"></i><b>2.5.2</b> Vectors</a></li>
<li class="chapter" data-level="2.5.3" data-path="get-started.html"><a href="get-started.html#indexing-the-element"><i class="fa fa-check"></i><b>2.5.3</b> Indexing the element</a></li>
<li class="chapter" data-level="2.5.4" data-path="get-started.html"><a href="get-started.html#adding-and-replacing-an-element-in-a-vector"><i class="fa fa-check"></i><b>2.5.4</b> Adding and Replacing an element in a vector</a></li>
<li class="chapter" data-level="2.5.5" data-path="get-started.html"><a href="get-started.html#number-of-elements-in-a-vector"><i class="fa fa-check"></i><b>2.5.5</b> Number of elements in a vector</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="get-started.html"><a href="get-started.html#data-frame"><i class="fa fa-check"></i><b>2.6</b> Data Frame</a></li>
<li class="chapter" data-level="2.7" data-path="get-started.html"><a href="get-started.html#tibbles"><i class="fa fa-check"></i><b>2.7</b> tibbles</a><ul>
<li class="chapter" data-level="2.7.1" data-path="get-started.html"><a href="get-started.html#column-names"><i class="fa fa-check"></i><b>2.7.1</b> Column Names</a></li>
<li class="chapter" data-level="2.7.2" data-path="get-started.html"><a href="get-started.html#add-rows-and-columns"><i class="fa fa-check"></i><b>2.7.2</b> Add rows and columns</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="get-started.html"><a href="get-started.html#exercise"><i class="fa fa-check"></i><b>2.8</b> Exercise</a></li>
<li class="chapter" data-level="2.9" data-path="get-started.html"><a href="get-started.html#exercise-1"><i class="fa fa-check"></i><b>2.9</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html"><i class="fa fa-check"></i><b>3</b> Get familiar with R Markdown</a><ul>
<li class="chapter" data-level="3.1" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#r-markdown"><i class="fa fa-check"></i><b>3.1</b> R Markdown</a></li>
<li class="chapter" data-level="3.2" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#text-formating"><i class="fa fa-check"></i><b>3.2</b> Text Formating</a></li>
<li class="chapter" data-level="3.3" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#hyperlinks"><i class="fa fa-check"></i><b>3.3</b> Hyperlinks</a></li>
<li class="chapter" data-level="3.4" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#images"><i class="fa fa-check"></i><b>3.4</b> Images</a></li>
<li class="chapter" data-level="3.5" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#tables"><i class="fa fa-check"></i><b>3.5</b> Tables</a></li>
<li class="chapter" data-level="3.6" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#cross-referencing"><i class="fa fa-check"></i><b>3.6</b> Cross-referencing</a></li>
<li class="chapter" data-level="3.7" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#bibliographies"><i class="fa fa-check"></i><b>3.7</b> Bibliographies</a></li>
<li class="chapter" data-level="3.8" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#create-.rmd-file"><i class="fa fa-check"></i><b>3.8</b> Create .Rmd FIle</a></li>
<li class="chapter" data-level="3.9" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#rendering-markdown"><i class="fa fa-check"></i><b>3.9</b> Rendering Markdown</a></li>
<li class="chapter" data-level="3.10" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#structure-of-an-rmarkdown-file"><i class="fa fa-check"></i><b>3.10</b> Structure of an Rmarkdown FIle</a></li>
<li class="chapter" data-level="3.11" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#inserting-code-chunk"><i class="fa fa-check"></i><b>3.11</b> Inserting code chunk</a></li>
<li class="chapter" data-level="3.12" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#chunk-name"><i class="fa fa-check"></i><b>3.12</b> Chunk name</a></li>
<li class="chapter" data-level="3.13" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#chunk-options"><i class="fa fa-check"></i><b>3.13</b> Chunk options</a></li>
<li class="chapter" data-level="3.14" data-path="get-familiar-with-r-markdown.html"><a href="get-familiar-with-r-markdown.html#inline-code"><i class="fa fa-check"></i><b>3.14</b> Inline code</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataTypes.html"><a href="dataTypes.html"><i class="fa fa-check"></i><b>4</b> Understanding Data in R</a><ul>
<li class="chapter" data-level="4.0.1" data-path="dataTypes.html"><a href="dataTypes.html#data-types-1"><i class="fa fa-check"></i><b>4.0.1</b> Data Types</a></li>
<li class="chapter" data-level="4.0.2" data-path="dataTypes.html"><a href="dataTypes.html#vectors-1"><i class="fa fa-check"></i><b>4.0.2</b> Vectors</a></li>
<li class="chapter" data-level="4.0.3" data-path="dataTypes.html"><a href="dataTypes.html#indexing-the-element-1"><i class="fa fa-check"></i><b>4.0.3</b> Indexing the element</a></li>
<li class="chapter" data-level="4.0.4" data-path="dataTypes.html"><a href="dataTypes.html#adding-and-replacing-an-element-in-a-vector-1"><i class="fa fa-check"></i><b>4.0.4</b> Adding and Replacing an element in a vector</a></li>
<li class="chapter" data-level="4.0.5" data-path="dataTypes.html"><a href="dataTypes.html#number-of-elements-in-a-vector-1"><i class="fa fa-check"></i><b>4.0.5</b> Number of elements in a vector</a></li>
<li class="chapter" data-level="4.0.6" data-path="dataTypes.html"><a href="dataTypes.html#generating-sequence-of-vectors-numbers"><i class="fa fa-check"></i><b>4.0.6</b> Generating sequence of vectors Numbers</a></li>
<li class="chapter" data-level="4.0.7" data-path="dataTypes.html"><a href="dataTypes.html#generating-vector-of-normal-distribution"><i class="fa fa-check"></i><b>4.0.7</b> Generating vector of normal distribution</a></li>
<li class="chapter" data-level="4.0.8" data-path="dataTypes.html"><a href="dataTypes.html#rounding-off-numbers"><i class="fa fa-check"></i><b>4.0.8</b> Rounding off numbers</a></li>
<li class="chapter" data-level="4.1" data-path="dataTypes.html"><a href="dataTypes.html#data-frame-1"><i class="fa fa-check"></i><b>4.1</b> Data Frame</a><ul>
<li class="chapter" data-level="4.1.1" data-path="dataTypes.html"><a href="dataTypes.html#creating-data-frames"><i class="fa fa-check"></i><b>4.1.1</b> Creating data frames</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dataTypes.html"><a href="dataTypes.html#matrix"><i class="fa fa-check"></i><b>4.2</b> Matrix</a><ul>
<li class="chapter" data-level="4.2.1" data-path="dataTypes.html"><a href="dataTypes.html#creating-matrices"><i class="fa fa-check"></i><b>4.2.1</b> Creating Matrices</a></li>
<li class="chapter" data-level="4.2.2" data-path="dataTypes.html"><a href="dataTypes.html#adding-attributes-to-matrices"><i class="fa fa-check"></i><b>4.2.2</b> Adding attributes to Matrices</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="dataTypes.html"><a href="dataTypes.html#arrays"><i class="fa fa-check"></i><b>4.3</b> Arrays</a></li>
<li class="chapter" data-level="4.4" data-path="dataTypes.html"><a href="dataTypes.html#dealing-with-misiing-values"><i class="fa fa-check"></i><b>4.4</b> Dealing with Misiing Values</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="vector.html"><a href="vector.html"><i class="fa fa-check"></i><b>5</b> Vector Data</a><ul>
<li class="chapter" data-level="5.1" data-path="vector.html"><a href="vector.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="vector.html"><a href="vector.html#numeric-vector"><i class="fa fa-check"></i><b>5.2</b> Numeric Vector</a></li>
<li class="chapter" data-level="5.3" data-path="vector.html"><a href="vector.html#integer-vector"><i class="fa fa-check"></i><b>5.3</b> Integer vector</a></li>
<li class="chapter" data-level="5.4" data-path="vector.html"><a href="vector.html#character-vector"><i class="fa fa-check"></i><b>5.4</b> Character vector</a></li>
<li class="chapter" data-level="5.5" data-path="vector.html"><a href="vector.html#logical-vector"><i class="fa fa-check"></i><b>5.5</b> Logical Vector</a></li>
<li class="chapter" data-level="5.6" data-path="vector.html"><a href="vector.html#vector-data"><i class="fa fa-check"></i><b>5.6</b> Vector Data</a><ul>
<li class="chapter" data-level="5.6.1" data-path="vector.html"><a href="vector.html#simple-features"><i class="fa fa-check"></i><b>5.6.1</b> Simple features</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="vector.html"><a href="vector.html#reading-vector-data"><i class="fa fa-check"></i><b>5.7</b> Reading vector data</a><ul>
<li class="chapter" data-level="5.7.1" data-path="vector.html"><a href="vector.html#reading-shapefiles"><i class="fa fa-check"></i><b>5.7.1</b> Reading shapefiles</a></li>
<li class="chapter" data-level="5.7.2" data-path="vector.html"><a href="vector.html#reading-gpx-file"><i class="fa fa-check"></i><b>5.7.2</b> Reading GPX file</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="vector.html"><a href="vector.html#make-shapefiles-from-tabular-data"><i class="fa fa-check"></i><b>5.8</b> Make shapefiles from Tabular data</a></li>
<li class="chapter" data-level="5.9" data-path="vector.html"><a href="vector.html#export-simple-feature-as-shapefile"><i class="fa fa-check"></i><b>5.9</b> Export simple feature as shapefile</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Introduction to tidyverse</a><ul>
<li class="chapter" data-level="6.1" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html#readr"><i class="fa fa-check"></i><b>6.1</b> readr</a></li>
<li class="chapter" data-level="6.2" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html#dplyr"><i class="fa fa-check"></i><b>6.2</b> dplyr</a></li>
<li class="chapter" data-level="6.3" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html#tidyr"><i class="fa fa-check"></i><b>6.3</b> tidyr</a></li>
<li class="chapter" data-level="6.4" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html#ggplot2"><i class="fa fa-check"></i><b>6.4</b> ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html#readr"><i class="fa fa-check"></i><b>7</b> Importing data with <strong>readr</strong></a><ul>
<li class="chapter" data-level="7.1" data-path="readr.html"><a href="readr.html"><i class="fa fa-check"></i><b>7.1</b> <em>Comma-Separated (.csv)</em></a></li>
<li class="chapter" data-level="7.2" data-path="readr.html"><a href="readr.html#microsoft-excel.xlsx"><i class="fa fa-check"></i><b>7.2</b> Microsoft Excel(.xlsx)</a></li>
<li class="chapter" data-level="7.3" data-path="readr.html"><a href="readr.html#writing-t-a-file"><i class="fa fa-check"></i><b>7.3</b> Writing t a File</a></li>
<li class="chapter" data-level="7.4" data-path="readr.html"><a href="readr.html#basic-data-manipulation"><i class="fa fa-check"></i><b>7.4</b> Basic Data Manipulation</a><ul>
<li class="chapter" data-level="7.4.1" data-path="readr.html"><a href="readr.html#explore-the-data-frame"><i class="fa fa-check"></i><b>7.4.1</b> Explore the Data Frame</a></li>
<li class="chapter" data-level="7.4.2" data-path="readr.html"><a href="readr.html#simmple-summary-statistics"><i class="fa fa-check"></i><b>7.4.2</b> simmple summary statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>8</b> Reshaping data with <strong>tidyr</strong></a><ul>
<li class="chapter" data-level="8.1" data-path="tidy.html"><a href="tidy.html#gatherfrom-wide-to-long-format."><i class="fa fa-check"></i><b>8.1</b> Gather—from wide to long format.</a></li>
<li class="chapter" data-level="8.2" data-path="tidy.html"><a href="tidy.html#spread-from-long-to-wide-format"><i class="fa fa-check"></i><b>8.2</b> spread() —from long to wide format</a></li>
<li class="chapter" data-level="8.3" data-path="tidy.html"><a href="tidy.html#separate"><i class="fa fa-check"></i><b>8.3</b> separate()</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-tidyverse.html"><a href="introduction-to-tidyverse.html#dplyr"><i class="fa fa-check"></i><b>9</b> Manipulating Data with <strong>dplyr</strong></a><ul>
<li class="chapter" data-level="9.1" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>9.1</b> Why use dplyr?</a></li>
<li class="chapter" data-level="9.2" data-path="dplyr.html"><a href="dplyr.html#core-dplyr-functions"><i class="fa fa-check"></i><b>9.2</b> Core dplyr Functions</a></li>
<li class="chapter" data-level="9.3" data-path="dplyr.html"><a href="dplyr.html#data"><i class="fa fa-check"></i><b>9.3</b> Data</a></li>
<li class="chapter" data-level="9.4" data-path="dplyr.html"><a href="dplyr.html#choosing-rows-filtering-observations"><i class="fa fa-check"></i><b>9.4</b> Choosing rows: Filtering observations</a></li>
<li class="chapter" data-level="9.5" data-path="dplyr.html"><a href="dplyr.html#select"><i class="fa fa-check"></i><b>9.5</b> select</a><ul>
<li class="chapter" data-level="9.5.1" data-path="dplyr.html"><a href="dplyr.html#adding-new-variables-mutate-transmute-add_rownames"><i class="fa fa-check"></i><b>9.5.1</b> Adding new variables: mutate, transmute, add_rownames</a></li>
<li class="chapter" data-level="9.5.2" data-path="dplyr.html"><a href="dplyr.html#arranging-rows"><i class="fa fa-check"></i><b>9.5.2</b> Arranging rows</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="dplyr.html"><a href="dplyr.html#summarizing-and-grouping"><i class="fa fa-check"></i><b>9.6</b> Summarizing and Grouping</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html"><i class="fa fa-check"></i><b>10</b> Working with Dates and Time</a><ul>
<li class="chapter" data-level="10.1" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#getting-the-date-and-time-with-localtime"><i class="fa fa-check"></i><b>10.1</b> Getting the Date and Time with localtime</a></li>
<li class="chapter" data-level="10.2" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#converting-strings-to-dates"><i class="fa fa-check"></i><b>10.2</b> Converting strings to Dates</a><ul>
<li class="chapter" data-level="10.2.1" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#convert-strings-to-dates"><i class="fa fa-check"></i><b>10.2.1</b> convert strings to dates</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#converting-date-with-lubridate-package"><i class="fa fa-check"></i><b>10.3</b> Converting date with <strong>lubridate</strong> package</a></li>
<li class="chapter" data-level="10.4" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#create-dates-by-merging-data"><i class="fa fa-check"></i><b>10.4</b> Create Dates by Merging Data</a></li>
<li class="chapter" data-level="10.5" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#isodate-converts-to-a-posixct-object"><i class="fa fa-check"></i><b>10.5</b> ISOdate converts to a POSIXct object</a></li>
<li class="chapter" data-level="10.6" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#extract-and-manipulate-parts-of-dates"><i class="fa fa-check"></i><b>10.6</b> Extract and Manipulate Parts of Dates</a></li>
<li class="chapter" data-level="10.7" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#creating-date-sequences"><i class="fa fa-check"></i><b>10.7</b> Creating Date Sequences</a></li>
<li class="chapter" data-level="10.8" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#calculations-with-dates"><i class="fa fa-check"></i><b>10.8</b> Calculations with Dates</a></li>
<li class="chapter" data-level="10.9" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#time-difference-of-15-days"><i class="fa fa-check"></i><b>10.9</b> Time difference of 15 days</a></li>
<li class="chapter" data-level="10.10" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#example-with-time-zones"><i class="fa fa-check"></i><b>10.10</b> example with time zones</a></li>
<li class="chapter" data-level="10.11" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#time-interval"><i class="fa fa-check"></i><b>10.11</b> Time Interval</a></li>
<li class="chapter" data-level="10.12" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#ctd-list"><i class="fa fa-check"></i><b>10.12</b> ctd list</a></li>
<li class="chapter" data-level="10.13" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#arithmetic-with-date-times"><i class="fa fa-check"></i><b>10.13</b> Arithmetic with date times</a></li>
<li class="chapter" data-level="10.14" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#dealing-with-time-zones"><i class="fa fa-check"></i><b>10.14</b> Dealing with Time Zones</a></li>
<li class="chapter" data-level="10.15" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#case-study-working-with-date-and-time-of-argo-float-observations"><i class="fa fa-check"></i><b>10.15</b> Case study: Working with Date and Time of Argo float observations</a></li>
<li class="chapter" data-level="10.16" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#data-1"><i class="fa fa-check"></i><b>10.16</b> Data</a></li>
<li class="chapter" data-level="10.17" data-path="working-with-dates-and-time.html"><a href="working-with-dates-and-time.html#data-processing"><i class="fa fa-check"></i><b>10.17</b> Data processing</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="control-flow.html"><a href="control-flow.html"><i class="fa fa-check"></i><b>11</b> Control flow</a><ul>
<li class="chapter" data-level="11.1" data-path="control-flow.html"><a href="control-flow.html#for-loop"><i class="fa fa-check"></i><b>11.1</b> for loop</a><ul>
<li class="chapter" data-level="11.1.1" data-path="control-flow.html"><a href="control-flow.html#for-loop-on-array"><i class="fa fa-check"></i><b>11.1.1</b> For loop on array</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="control-flow.html"><a href="control-flow.html#if-and-else-statement"><i class="fa fa-check"></i><b>11.2</b> if and else statement</a></li>
<li class="chapter" data-level="11.3" data-path="control-flow.html"><a href="control-flow.html#functions-1"><i class="fa fa-check"></i><b>11.3</b> Functions</a><ul>
<li class="chapter" data-level="11.3.1" data-path="control-flow.html"><a href="control-flow.html#core-functions"><i class="fa fa-check"></i><b>11.3.1</b> core functions</a></li>
<li class="chapter" data-level="11.3.2" data-path="control-flow.html"><a href="control-flow.html#user-defined-functions"><i class="fa fa-check"></i><b>11.3.2</b> user defined functions</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="control-flow.html"><a href="control-flow.html#packages"><i class="fa fa-check"></i><b>11.4</b> packages</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="functions-and-packages.html"><a href="functions-and-packages.html"><i class="fa fa-check"></i><b>12</b> Functions and packages</a><ul>
<li class="chapter" data-level="12.0.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#core-functions-1"><i class="fa fa-check"></i><b>12.0.1</b> core functions</a></li>
<li class="chapter" data-level="12.0.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#user-defined-functions-1"><i class="fa fa-check"></i><b>12.0.2</b> user defined functions</a></li>
<li class="chapter" data-level="12.1" data-path="functions-and-packages.html"><a href="functions-and-packages.html#packages-1"><i class="fa fa-check"></i><b>12.1</b> packages</a></li>
<li class="chapter" data-level="12.2" data-path="functions-and-packages.html"><a href="functions-and-packages.html#function-pipelines"><i class="fa fa-check"></i><b>12.2</b> function pipelines</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="raster.html"><a href="raster.html"><i class="fa fa-check"></i><b>13</b> Raster Data</a><ul>
<li class="chapter" data-level="13.1" data-path="raster.html"><a href="raster.html#introduction-to-raster-data"><i class="fa fa-check"></i><b>13.1</b> Introduction to Raster data</a><ul>
<li class="chapter" data-level="13.1.1" data-path="raster.html"><a href="raster.html#geotiff"><i class="fa fa-check"></i><b>13.1.1</b> GeoTiff</a></li>
<li class="chapter" data-level="13.1.2" data-path="raster.html"><a href="raster.html#explore-the-raster-attribute"><i class="fa fa-check"></i><b>13.1.2</b> Explore the raster attribute</a></li>
<li class="chapter" data-level="13.1.3" data-path="raster.html"><a href="raster.html#read-a-geotiff-raster-data"><i class="fa fa-check"></i><b>13.1.3</b> Read a GeoTIFF raster data</a></li>
<li class="chapter" data-level="13.1.4" data-path="raster.html"><a href="raster.html#view-raster-coordinate-reference-system"><i class="fa fa-check"></i><b>13.1.4</b> View Raster Coordinate Reference System</a></li>
<li class="chapter" data-level="13.1.5" data-path="raster.html"><a href="raster.html#dealing-with-missing-data-in-raster"><i class="fa fa-check"></i><b>13.1.5</b> Dealing with missing data in raster</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="raster.html"><a href="raster.html#assign-projection-and-reproject-raster-data-in-r"><i class="fa fa-check"></i><b>13.2</b> Assign projection and Reproject Raster Data in R</a></li>
<li class="chapter" data-level="13.3" data-path="raster.html"><a href="raster.html#raster-resolution"><i class="fa fa-check"></i><b>13.3</b> Raster resolution</a></li>
<li class="chapter" data-level="13.4" data-path="raster.html"><a href="raster.html#raster-calculation"><i class="fa fa-check"></i><b>13.4</b> Raster Calculation</a></li>
<li class="chapter" data-level="13.5" data-path="raster.html"><a href="raster.html#multi-bands-satellite-imagery"><i class="fa fa-check"></i><b>13.5</b> Multi-bands satellite imagery</a><ul>
<li class="chapter" data-level="13.5.1" data-path="raster.html"><a href="raster.html#rater-stacks"><i class="fa fa-check"></i><b>13.5.1</b> Rater Stacks</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="raster.html"><a href="raster.html#manipulate-raster"><i class="fa fa-check"></i><b>13.6</b> Manipulate raster</a></li>
<li class="chapter" data-level="13.7" data-path="raster.html"><a href="raster.html#raster-time-series-data"><i class="fa fa-check"></i><b>13.7</b> Raster time series data</a></li>
<li class="chapter" data-level="13.8" data-path="raster.html"><a href="raster.html#comparing-ndvi-from-two-different-sites"><i class="fa fa-check"></i><b>13.8</b> comparing NDVI from Two different sites</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html"><i class="fa fa-check"></i><b>14</b> Plotting in R with <code>ggplot2</code></a><ul>
<li class="chapter" data-level="14.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#a-dataset"><i class="fa fa-check"></i><b>14.1</b> A dataset</a></li>
<li class="chapter" data-level="14.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#components-of-ggplot-objects-components"><i class="fa fa-check"></i><b>14.2</b> Components of ggplot objects {components}</a></li>
<li class="chapter" data-level="14.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#building-a-plot"><i class="fa fa-check"></i><b>14.3</b> Building a plot</a><ul>
<li class="chapter" data-level="14.3.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#plotting-layers"><i class="fa fa-check"></i><b>14.3.1</b> Plotting layers</a></li>
<li class="chapter" data-level="14.3.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#customize-legend"><i class="fa fa-check"></i><b>14.3.2</b> Customize legend</a></li>
<li class="chapter" data-level="14.3.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#working-with-titles-and-labels"><i class="fa fa-check"></i><b>14.3.3</b> Working with titles and labels</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#customize-glidline-and-axis-labels"><i class="fa fa-check"></i><b>14.4</b> Customize glidline and axis labels</a><ul>
<li class="chapter" data-level="14.4.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#remove-the-gray-box-of-points-on-legend"><i class="fa fa-check"></i><b>14.4.1</b> Remove the gray box of points on legend</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#modify-the-position-of-the-legend"><i class="fa fa-check"></i><b>14.5</b> Modify the position of the legend</a><ul>
<li class="chapter" data-level="14.5.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#change-the-legend-background-and-stroke-color"><i class="fa fa-check"></i><b>14.5.1</b> Change the legend background and stroke color</a></li>
<li class="chapter" data-level="14.5.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#modify-background-colors"><i class="fa fa-check"></i><b>14.5.2</b> Modify background colors</a></li>
<li class="chapter" data-level="14.5.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#change-the-gridlines"><i class="fa fa-check"></i><b>14.5.3</b> change the gridlines</a></li>
<li class="chapter" data-level="14.5.4" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#change-the-font-size-for-axis-labels-and-titles"><i class="fa fa-check"></i><b>14.5.4</b> Change the font size for axis, labels and titles</a></li>
<li class="chapter" data-level="14.5.5" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#limit-axis-to-a-range"><i class="fa fa-check"></i><b>14.5.5</b> Limit axis to a range</a></li>
<li class="chapter" data-level="14.5.6" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#adding-labels"><i class="fa fa-check"></i><b>14.5.6</b> Adding labels</a></li>
<li class="chapter" data-level="14.5.7" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#add-text-annotation"><i class="fa fa-check"></i><b>14.5.7</b> Add text annotation</a></li>
<li class="chapter" data-level="14.5.8" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#make-the-x-and-y-axis-the-same"><i class="fa fa-check"></i><b>14.5.8</b> Make the x and y axis the same</a></li>
<li class="chapter" data-level="14.5.9" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#faceting-creating-multipanel-plots"><i class="fa fa-check"></i><b>14.5.9</b> Faceting —Creating multi–panel plots</a></li>
<li class="chapter" data-level="14.5.10" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#allow-scales-to-roam-free-scales"><i class="fa fa-check"></i><b>14.5.10</b> Allow scales to roam free (scales)</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#basic-plots"><i class="fa fa-check"></i><b>14.6</b> Basic plots</a><ul>
<li class="chapter" data-level="14.6.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#scatterplot"><i class="fa fa-check"></i><b>14.6.1</b> scatterplot</a></li>
<li class="chapter" data-level="14.6.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#adding-regression-line"><i class="fa fa-check"></i><b>14.6.2</b> adding regression line</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#linegraph"><i class="fa fa-check"></i><b>14.7</b> Linegraph</a><ul>
<li class="chapter" data-level="14.7.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#histogram"><i class="fa fa-check"></i><b>14.7.1</b> histogram</a></li>
<li class="chapter" data-level="14.7.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#boxplot"><i class="fa fa-check"></i><b>14.7.2</b> boxplot</a></li>
<li class="chapter" data-level="14.7.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#barplot"><i class="fa fa-check"></i><b>14.7.3</b> barplot</a></li>
<li class="chapter" data-level="14.7.4" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#barplot-for-values"><i class="fa fa-check"></i><b>14.7.4</b> barplot for values</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#advanced-plots"><i class="fa fa-check"></i><b>14.8</b> Advanced plots</a><ul>
<li class="chapter" data-level="14.8.1" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#facets"><i class="fa fa-check"></i><b>14.8.1</b> Facets</a></li>
<li class="chapter" data-level="14.8.2" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#sea-surface-temperature"><i class="fa fa-check"></i><b>14.8.2</b> Sea Surface Temperature</a></li>
<li class="chapter" data-level="14.8.3" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#subplot"><i class="fa fa-check"></i><b>14.8.3</b> Subplot</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#colour"><i class="fa fa-check"></i><b>14.9</b> Colour</a></li>
<li class="chapter" data-level="14.10" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#size"><i class="fa fa-check"></i><b>14.10</b> size</a></li>
<li class="chapter" data-level="14.11" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#scaling"><i class="fa fa-check"></i><b>14.11</b> scaling</a></li>
<li class="chapter" data-level="14.12" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#guides"><i class="fa fa-check"></i><b>14.12</b> Guides</a></li>
<li class="chapter" data-level="14.13" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#add-on-packages"><i class="fa fa-check"></i><b>14.13</b> Add-on packages</a></li>
<li class="chapter" data-level="14.14" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#ggridges"><i class="fa fa-check"></i><b>14.14</b> ggridges</a></li>
<li class="chapter" data-level="14.15" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#varying-fill-colors-along-the-x-axis"><i class="fa fa-check"></i><b>14.15</b> Varying fill colors along the x axis</a></li>
<li class="chapter" data-level="14.16" data-path="plotting-in-r-with-ggplot2.html"><a href="plotting-in-r-with-ggplot2.html#metr"><i class="fa fa-check"></i><b>14.16</b> metR</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html"><i class="fa fa-check"></i><b>15</b> A grammar for graphics</a><ul>
<li class="chapter" data-level="15.1" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#geoms"><i class="fa fa-check"></i><b>15.1</b> geoms</a><ul>
<li class="chapter" data-level="15.1.1" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#regression-line"><i class="fa fa-check"></i><b>15.1.1</b> Regression Line</a></li>
<li class="chapter" data-level="15.1.2" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#horizontal-vertical-lines"><i class="fa fa-check"></i><b>15.1.2</b> Horizontal/ vertical lines</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#aes"><i class="fa fa-check"></i><b>15.2</b> aes()</a><ul>
<li class="chapter" data-level="15.2.1" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#color"><i class="fa fa-check"></i><b>15.2.1</b> Color</a></li>
<li class="chapter" data-level="15.2.2" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#shape"><i class="fa fa-check"></i><b>15.2.2</b> shape</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#axis-and-labels"><i class="fa fa-check"></i><b>15.3</b> Axis and labels</a></li>
<li class="chapter" data-level="15.4" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#text-annotaion"><i class="fa fa-check"></i><b>15.4</b> Text annotaion</a></li>
<li class="chapter" data-level="15.5" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#scales"><i class="fa fa-check"></i><b>15.5</b> Scales</a></li>
<li class="chapter" data-level="15.6" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#guides-1"><i class="fa fa-check"></i><b>15.6</b> Guides</a></li>
<li class="chapter" data-level="15.7" data-path="a-grammar-for-graphics.html"><a href="a-grammar-for-graphics.html#themes"><i class="fa fa-check"></i><b>15.7</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="graphics.html"><a href="graphics.html"><i class="fa fa-check"></i><b>16</b> Making Maps</a><ul>
<li class="chapter" data-level="16.1" data-path="graphics.html"><a href="graphics.html#geographical-data-in-a-tidy-format"><i class="fa fa-check"></i><b>16.1</b> Geographical data in a tidy format</a><ul>
<li class="chapter" data-level="16.1.1" data-path="graphics.html"><a href="graphics.html#create-simple-feature-from-data.frame"><i class="fa fa-check"></i><b>16.1.1</b> Create simple feature from data.frame</a></li>
<li class="chapter" data-level="16.1.2" data-path="graphics.html"><a href="graphics.html#importing-shapefile"><i class="fa fa-check"></i><b>16.1.2</b> Importing shapefile</a></li>
<li class="chapter" data-level="16.1.3" data-path="graphics.html"><a href="graphics.html#reading-other-format"><i class="fa fa-check"></i><b>16.1.3</b> Reading other format</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="graphics.html"><a href="graphics.html#introduction-1"><i class="fa fa-check"></i><b>16.2</b> Introduction</a></li>
<li class="chapter" data-level="16.3" data-path="graphics.html"><a href="graphics.html#static-maps"><i class="fa fa-check"></i><b>16.3</b> Static Maps</a><ul>
<li class="chapter" data-level="16.3.1" data-path="graphics.html"><a href="graphics.html#the-bathmetry-data"><i class="fa fa-check"></i><b>16.3.1</b> The bathmetry data</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="graphics.html"><a href="graphics.html#basemap"><i class="fa fa-check"></i><b>16.4</b> Basemap</a></li>
<li class="chapter" data-level="16.5" data-path="graphics.html"><a href="graphics.html#creating-contour-map"><i class="fa fa-check"></i><b>16.5</b> Creating contour map</a></li>
<li class="chapter" data-level="16.6" data-path="graphics.html"><a href="graphics.html#inset-maps"><i class="fa fa-check"></i><b>16.6</b> Inset maps</a><ul>
<li class="chapter" data-level="16.6.1" data-path="graphics.html"><a href="graphics.html#choropleth-maps"><i class="fa fa-check"></i><b>16.6.1</b> Choropleth maps</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="graphics.html"><a href="graphics.html#animated-maps"><i class="fa fa-check"></i><b>16.7</b> Animated maps</a></li>
<li class="chapter" data-level="16.8" data-path="graphics.html"><a href="graphics.html#interactive-maps"><i class="fa fa-check"></i><b>16.8</b> Interactive maps</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="animation.html"><a href="animation.html"><i class="fa fa-check"></i><b>17</b> Animation</a><ul>
<li class="chapter" data-level="17.1" data-path="animation.html"><a href="animation.html#animation-1"><i class="fa fa-check"></i><b>17.1</b> Animation</a></li>
<li class="chapter" data-level="17.2" data-path="animation.html"><a href="animation.html#isosurface"><i class="fa fa-check"></i><b>17.2</b> isosurface</a></li>
<li class="chapter" data-level="17.3" data-path="animation.html"><a href="animation.html#checking-for-proper-interpolation-methods"><i class="fa fa-check"></i><b>17.3</b> checking for proper interpolation methods</a><ul>
<li class="chapter" data-level="17.3.1" data-path="animation.html"><a href="animation.html#fluorescence-section"><i class="fa fa-check"></i><b>17.3.1</b> Fluorescence section</a></li>
<li class="chapter" data-level="17.3.2" data-path="animation.html"><a href="animation.html#temperature-section"><i class="fa fa-check"></i><b>17.3.2</b> Temperature section</a></li>
<li class="chapter" data-level="17.3.3" data-path="animation.html"><a href="animation.html#dissolved-oxygen-section"><i class="fa fa-check"></i><b>17.3.3</b> Dissolved Oxygen section</a></li>
<li class="chapter" data-level="17.3.4" data-path="animation.html"><a href="animation.html#salinity-section"><i class="fa fa-check"></i><b>17.3.4</b> Salinity section</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="forecast-time-series.html"><a href="forecast-time-series.html"><i class="fa fa-check"></i><b>18</b> Forecast time series</a><ul>
<li class="chapter" data-level="18.1" data-path="forecast-time-series.html"><a href="forecast-time-series.html#introduction-2"><i class="fa fa-check"></i><b>18.1</b> introduction</a></li>
<li class="chapter" data-level="18.2" data-path="forecast-time-series.html"><a href="forecast-time-series.html#data-2"><i class="fa fa-check"></i><b>18.2</b> Data</a></li>
<li class="chapter" data-level="18.3" data-path="forecast-time-series.html"><a href="forecast-time-series.html#data-processing-1"><i class="fa fa-check"></i><b>18.3</b> Data processing</a></li>
<li class="chapter" data-level="18.4" data-path="forecast-time-series.html"><a href="forecast-time-series.html#forecasting"><i class="fa fa-check"></i><b>18.4</b> Forecasting</a></li>
<li class="chapter" data-level="18.5" data-path="forecast-time-series.html"><a href="forecast-time-series.html#visualize-the-forecasted-values"><i class="fa fa-check"></i><b>18.5</b> Visualize the forecasted values</a></li>
<li class="chapter" data-level="18.6" data-path="forecast-time-series.html"><a href="forecast-time-series.html#conclusion"><i class="fa fa-check"></i><b>18.6</b> conclusion</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="reading-netcdf.html"><a href="reading-netcdf.html"><i class="fa fa-check"></i><b>19</b> Reading NetCDF</a><ul>
<li class="chapter" data-level="19.1" data-path="reading-netcdf.html"><a href="reading-netcdf.html#introduction-3"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="reading-netcdf.html"><a href="reading-netcdf.html#types-of-netcdf-file"><i class="fa fa-check"></i><b>19.2</b> Types of netCDF file</a></li>
<li class="chapter" data-level="19.3" data-path="reading-netcdf.html"><a href="reading-netcdf.html#rading-netcdf-with-ncdf4-package"><i class="fa fa-check"></i><b>19.3</b> Rading NetCDF with ncdf4 package</a><ul>
<li class="chapter" data-level="19.3.1" data-path="reading-netcdf.html"><a href="reading-netcdf.html#extracting-the-dimensions"><i class="fa fa-check"></i><b>19.3.1</b> Extracting the dimensions</a></li>
<li class="chapter" data-level="19.3.2" data-path="reading-netcdf.html"><a href="reading-netcdf.html#extracting-time"><i class="fa fa-check"></i><b>19.3.2</b> Extracting time</a></li>
<li class="chapter" data-level="19.3.3" data-path="reading-netcdf.html"><a href="reading-netcdf.html#extracting-latitude"><i class="fa fa-check"></i><b>19.3.3</b> Extracting Latitude</a></li>
<li class="chapter" data-level="19.3.4" data-path="reading-netcdf.html"><a href="reading-netcdf.html#extracting-longitude"><i class="fa fa-check"></i><b>19.3.4</b> Extracting Longitude</a></li>
<li class="chapter" data-level="19.3.5" data-path="reading-netcdf.html"><a href="reading-netcdf.html#extracting-the-variable"><i class="fa fa-check"></i><b>19.3.5</b> Extracting the variable</a></li>
<li class="chapter" data-level="19.3.6" data-path="reading-netcdf.html"><a href="reading-netcdf.html#replace-fillvalue-with-na"><i class="fa fa-check"></i><b>19.3.6</b> Replace FillValue with NA</a></li>
<li class="chapter" data-level="19.3.7" data-path="reading-netcdf.html"><a href="reading-netcdf.html#obtain-a-slice"><i class="fa fa-check"></i><b>19.3.7</b> Obtain a slice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="packages-2.html"><a href="packages-2.html"><i class="fa fa-check"></i><b>20</b> packages</a><ul>
<li class="chapter" data-level="20.1" data-path="packages-2.html"><a href="packages-2.html#one-sample-t-test"><i class="fa fa-check"></i><b>20.1</b> One Sample t Test</a></li>
<li class="chapter" data-level="20.2" data-path="packages-2.html"><a href="packages-2.html#paired-t-test"><i class="fa fa-check"></i><b>20.2</b> Paired t test</a></li>
<li class="chapter" data-level="20.3" data-path="packages-2.html"><a href="packages-2.html#levenes-test"><i class="fa fa-check"></i><b>20.3</b> Levene’s Test</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A glimpse of GIS and Remote Sensing with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="control-flow" class="section level1">
<h1><span class="header-section-number">Chapter 11</span> Control flow</h1>
<p>One of the prime purposes of using a computer is to automate a task that would be very tedious to perform by hand. The usual implication is that some task is to be performed over and over again in some systematic way. This chapter will be concerned with the programming concept of a control flow, a feature that is at the heart of nearly every computer algorithm. The two important control flows statements are* count-controlled* loops like <code>for</code> loops and <em>conditional</em> statements such as <code>if-else</code> construct. In this chapter, you’ll learn how to use <code>if</code> statements and <code>for</code> loop to automate programming processes.</p>
<div id="for-loop" class="section level2">
<h2><span class="header-section-number">11.1</span> for loop</h2>
<p>There are often operations where you know ahead of time exactly how many times an operation must be performed before stopping the loop. For example, if we have an array with 365 matrix representing a daily sea surface temperature and we want to convert it to data frame. Doing it one after the other is tedious. Fortunately, computers have some way to move from point 1 (convert the matrix to data frame) to point 2 (convert the second matrix to data frame the analysis) and so on. In R, and nearly all other programming languages, this type of operation is performed by a <code>for()</code> loop. The <code>for</code> loop, tell the computer to iterate—repeat a set of instructions times the defined number.</p>
<p>In R, the basic style of <code>for</code> loop is in this form;</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">20</span>){
  DO THE DO
  
}</code></pre>
<p>Every <code>for</code> loop in R has four parts. The first is a <code>variable</code> (in this case, <code>i</code>) that will be used to keep track of the number of times through the loop. The second is the <code>index</code> the variable <code>i</code> will take on as it repeats. In our example, <code>i</code> will start by taking the value 1, then 2, then 3 and so on until reaching 20. Third is to place a bound on what will be looped over, denoted in R by the braces <code>{}</code>. Fourth are the commands that will be executed (there can be as many as needed) within the <code>{}</code> lines. Note that this is a good example of using indentation to make clear where the loop starts and ends, as well as the commands to be executed.</p>
<p>To better understand how loops work, let’s iterate the sentense <code>R for data analysis</code> five times.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)
  <span class="kw">print</span>(<span class="st">&quot;R for data analysis&quot;</span>)</code></pre>
<pre><code>[1] &quot;R for data analysis&quot;
[1] &quot;R for data analysis&quot;
[1] &quot;R for data analysis&quot;
[1] &quot;R for data analysis&quot;
[1] &quot;R for data analysis&quot;</code></pre>
<p>We can create vector of monthly temperature numeric values and and month labels. We then display the temperature value for each months with its corresponding month name. THe code can be written as:</p>
<pre class="sourceCode r"><code class="sourceCode r">temperature =<span class="st"> </span><span class="kw">c</span>(<span class="fl">28.6</span>,<span class="fl">28.8</span>,<span class="dv">29</span>,<span class="dv">28</span>,<span class="fl">27.8</span>,<span class="fl">27.2</span>,<span class="fl">26.8</span>,<span class="dv">25</span>,<span class="fl">26.2</span>,<span class="fl">27.2</span>,<span class="fl">27.5</span>,<span class="fl">27.8</span>)
months =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>,
           <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span>)

<span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(temperature)){
  <span class="kw">print</span>(temperature[j])
  <span class="kw">print</span>(months[j])
}</code></pre>
<pre><code>[1] 28.6
[1] &quot;Jan&quot;
[1] 28.8
[1] &quot;Feb&quot;
[1] 29
[1] &quot;Mar&quot;
[1] 28
[1] &quot;Apr&quot;
[1] 27.8
[1] &quot;May&quot;
[1] 27.2
[1] &quot;Jun&quot;
[1] 26.8
[1] &quot;Jul&quot;
[1] 25
[1] &quot;Aug&quot;
[1] 26.2
[1] &quot;Sep&quot;
[1] 27.2
[1] &quot;Oct&quot;
[1] 27.5
[1] &quot;Nov&quot;
[1] 27.8
[1] &quot;Dec&quot;</code></pre>
<p>In this code, the variable <code>temperature</code> and <code>months</code> will start at a value of 1. Then the loop will begin with i = 1. On the first pass through the loop, will be increased by 1 (e.g., x = 2). On the second pass through the
loop, (i = 2) x will be increased again by 1, e.g., x = 3, and so on until i = 5.</p>
<pre class="sourceCode r"><code class="sourceCode r">temperature.anomaly =<span class="st"> </span><span class="ot">NULL</span>

<span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(temperature)){
  temperature.anomaly[j] =<span class="st">  </span>temperature[j]<span class="op">-</span><span class="kw">mean</span>(temperature)
}
temperature.anomaly</code></pre>
<pre><code> [1]  1.108333333  1.308333333  1.508333333  0.508333333
 [5]  0.308333333 -0.291666667 -0.691666667 -2.491666667
 [9] -1.291666667 -0.291666667  0.008333333  0.308333333</code></pre>
<p>Note that like conditional statements, loops comprising two or more lines or statements requires braces.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (j <span class="cf">in</span> <span class="kw">seq</span>(<span class="dv">1</span>,<span class="dv">12</span>,<span class="dv">2</span>)){
  <span class="kw">print</span>(temperature[j])
  <span class="kw">print</span>(months[j])
}</code></pre>
<pre><code>[1] 28.6
[1] &quot;Jan&quot;
[1] 29
[1] &quot;Mar&quot;
[1] 27.8
[1] &quot;May&quot;
[1] 26.8
[1] &quot;Jul&quot;
[1] 26.2
[1] &quot;Sep&quot;
[1] 27.5
[1] &quot;Nov&quot;</code></pre>
<p>Often times you may encounter a situation where you need to allocate an empty object that will store the output of growing data. An empty object will provide space to store the output from each <code>for</code> loop. A more efficient practise is to initiate a list object that is empty then fill it with the output from each iteration. For example in the chunk below we create an empty list object called <code>my.data</code> and then initiate a for loop with and index <code>for (i in 1:length(temperature)</code>, which count the month. Then within the for loop the body <code>my.data[[i]]= data.frame(month = months[i], temperature = temperature[i],temperature.anomaly = temperature[i] - mean(temperature))</code>. The body create a data frame of three columns—month, temperature and temperature anomaly for each month and store them in the list object <code>my.data</code>. Once the list is filled, we unlist <code>dplyr::bind_rows(my.data)</code>using the <code>bind_rows()</code> function from <strong>dplyr</strong> package <span class="citation">(Wickham et al. <a href="#ref-dplyr">2019</a>; Wickham <a href="#ref-tidyverse">2017</a>)</span>.</p>
<pre class="sourceCode r"><code class="sourceCode r">my.data =<span class="st"> </span><span class="kw">list</span>()

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(temperature)){
  
  my.data[[i]]=<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">month =</span> months[i], 
                     <span class="dt">temperature =</span> temperature[i],
                     <span class="dt">temperature.anomaly =</span> temperature[i] <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(temperature))
  
  }
dplyr<span class="op">::</span><span class="kw">bind_rows</span>(my.data)</code></pre>
<pre><code>   month temperature temperature.anomaly
1    Jan        28.6         1.108333333
2    Feb        28.8         1.308333333
3    Mar        29.0         1.508333333
4    Apr        28.0         0.508333333
5    May        27.8         0.308333333
6    Jun        27.2        -0.291666667
7    Jul        26.8        -0.691666667
8    Aug        25.0        -2.491666667
9    Sep        26.2        -1.291666667
10   Oct        27.2        -0.291666667
11   Nov        27.5         0.008333333
12   Dec        27.8         0.308333333</code></pre>
<div id="for-loop-on-array" class="section level3">
<h3><span class="header-section-number">11.1.1</span> For loop on array</h3>
<p>Often times we receive array data with several matrix embbeded and you may be reguired to convert the array into other format—prefarably data frame so that you can have full control of data processing and visualization. Let’s load an array of sea surface temperature from the working directory with <code>load()</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="st">&quot;modis_pemba.RData&quot;</span>)</code></pre>
<p>Exploring further the dataset, we notice that its an array with 35 longitude spacing and 7 latitude spacing and 54 matrix collected every month from 2014-11-16 to NA. Being an array, this dataset is not in the right format, since <strong>ggplot2</strong> only accept the data frame format.</p>
<pre class="sourceCode r"><code class="sourceCode r">sst<span class="op">$</span>data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">class</span>();sst<span class="op">$</span>data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">dim</span>()</code></pre>
<pre><code>[1] &quot;array&quot;</code></pre>
<pre><code>[1] 35  7 54</code></pre>
<p>We can inspect the longitude of the array</p>
<pre class="sourceCode r"><code class="sourceCode r">sst<span class="op">$</span>longitude</code></pre>
<pre><code> [1] 38.81250 38.85418 38.89583 38.93750 38.97918 39.02083
 [7] 39.06250 39.10418 39.14583 39.18750 39.22918 39.27083
[13] 39.31250 39.35418 39.39583 39.43750 39.47918 39.52083
[19] 39.56250 39.60418 39.64583 39.68750 39.72918 39.77083
[25] 39.81250 39.85418 39.89583 39.93750 39.97918 40.02083
[31] 40.06250 40.10418 40.14583 40.18750 40.22918</code></pre>
<p>We can also inspect the latitude of the array</p>
<pre class="sourceCode r"><code class="sourceCode r">sst<span class="op">$</span>latitude</code></pre>
<pre><code>[1] -5.687505 -5.645833 -5.604169 -5.562505 -5.520833 -5.479169
[7] -5.437505</code></pre>
<p>We can also check the first matrix of the array</p>
<pre class="sourceCode r"><code class="sourceCode r"> sst<span class="op">$</span>data[,,<span class="dv">1</span>]</code></pre>
<pre><code>          [,1]     [,2]     [,3]     [,4]     [,5]     [,6]
 [1,]       NA       NA       NA       NA       NA       NA
 [2,]       NA       NA       NA       NA       NA       NA
 [3,] 29.74117       NA 29.47223       NA       NA       NA
 [4,] 29.69169 29.83082 29.60132 29.65081       NA       NA
 [5,] 29.45143 29.52171 29.34098 29.53175 29.59917 30.00438
 [6,] 29.29006 29.23627 29.26496 29.22910 29.73974 29.58698
 [7,] 29.61782 29.30799 29.30656 29.26711 29.35246 29.24416
 [8,] 29.36106 29.38975 29.29365 29.18966 29.38975 29.10288
 [9,] 28.90063 29.21548 29.23412 29.08997 29.36393 29.15165
[10,] 28.77656 29.08423 28.97379 29.11866 29.27070 29.09427
[11,] 28.66253 29.04263 28.85832 29.09858 29.05913 29.02614
[12,] 28.72134 28.92645 28.85832 29.08423 28.95083 29.09786
[13,] 28.70341 28.65822 28.87696 29.13443 29.44426 29.41557
[14,] 28.74715 28.77441 28.98239 29.42920 29.48586 29.33525
[15,] 29.18894 28.93577 29.35318 29.59343 29.50522 29.31301
[16,] 29.21404 29.31445 29.53678 29.31445 29.42131 28.91498
[17,] 29.01251 29.53175 29.32736 29.28146 29.37182 29.02614
[18,] 29.16599 29.16097 29.33453 29.24273 29.08280 28.80023
[19,] 29.20902 29.35174 29.34672 29.32592 29.03044 28.60228
[20,] 29.27572 29.49303 29.34098 29.07347 28.80166 28.63527
[21,] 29.60563 29.44497 29.22050 29.16814 28.60300 27.77393
[22,] 29.21261 28.95872 28.95370 28.98024 28.32330 28.05651
[23,] 29.24273 28.92717 28.97952 28.76365 28.55208 28.29676
[24,] 29.24775 29.09355 28.96948 28.86692 28.51048 28.45669
[25,] 29.01466 28.88987 28.75719 28.69552 28.60946 28.61376
[26,] 28.82891 28.78086 28.87912 28.69552 28.69910 28.72134
[27,] 28.85832 28.84613 28.92573 28.72492 28.86190 28.90709
[28,] 28.99387 28.88270 29.00893 28.66898 28.69193 28.70341
[29,] 29.09140 28.99387 28.99602 28.75002 28.76795 28.84971
[30,] 28.89274 28.87410 29.20902 29.03259 28.81385 29.13228
[31,] 29.02829 28.82461 29.03618 29.20185 29.04909 29.04192
[32,] 29.21763 29.01180 29.08280 28.99028 29.14089 28.97737
[33,] 29.17388 28.99889 29.10216 29.11005 28.98454 29.14161
[34,] 29.24560 29.10790 29.17101 29.23986 29.27142 29.24488
[35,] 29.38186 29.22480 29.14734 29.18033 29.33883 29.05913
          [,7]
 [1,]       NA
 [2,]       NA
 [3,]       NA
 [4,]       NA
 [5,] 29.98000
 [6,] 29.60491
 [7,] 29.23269
 [8,] 29.19253
 [9,] 29.15667
[10,] 29.14519
[11,] 29.07778
[12,] 29.16814
[13,] 29.06702
[14,] 29.30871
[15,] 29.19970
[16,] 28.95442
[17,] 29.01610
[18,] 28.91426
[19,]       NA
[20,]       NA
[21,]       NA
[22,]       NA
[23,] 28.39860
[24,] 28.40936
[25,] 28.50905
[26,] 28.86190
[27,] 28.95944
[28,] 28.88844
[29,] 28.98885
[30,] 28.82676
[31,] 29.29078
[32,] 29.00247
[33,] 29.11794
[34,] 29.10431
[35,] 29.23125</code></pre>
<p>Therefore, we need to tidy this dataset from the array into the data frame. We can iterate the conversion with a <code>for</code> loop in the chunk below. Note that the <code>matrix_tb()</code> function used in this loop to convert matrix along with longitude and latitude to data frame I created to help process the data. You can found this code for this function <a href="www.www.ww">here</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## preallocate object as a list()</span>
sst.tb =<span class="st"> </span><span class="kw">list</span>()

<span class="co">## loop sst</span>
<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(sst<span class="op">$</span>time)){
  
  sst.tb[[i]] =<span class="st"> </span><span class="kw">matrix_tb</span>(<span class="dt">x =</span> sst<span class="op">$</span>longitude, 
                          <span class="dt">y =</span> sst<span class="op">$</span>latitude, 
                          <span class="dt">data =</span> sst<span class="op">$</span>data[,,i]) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">time =</span> sst<span class="op">$</span>time[i] <span class="op">%&gt;%</span><span class="kw">as.Date</span>()) <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">    </span>dplyr<span class="op">::</span><span class="kw">select</span>(<span class="dt">date =</span> time,<span class="dt">lon =</span> x, <span class="dt">lat =</span> y, <span class="dt">sst =</span> value) 
}

<span class="co">## unlist the listed sst and chl files</span>
sst.tb =<span class="st"> </span>sst.tb <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">bind_rows</span>(sst.tb)

sst.tb <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">sample_n</span>(<span class="dt">size =</span> <span class="dv">8</span>)</code></pre>
<pre><code># A tibble: 8 x 4
  date         lon   lat   sst
  &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 2015-08-16  39.0 -5.65  26.4
2 2015-06-16  39.4 -5.44  27.5
3 2017-04-16  40.2 -5.56  29.8
4 2018-12-16  39.1 -5.65  29.1
5 2019-01-16  39.4 -5.65  29.0
6 2015-05-16  39.1 -5.52  28.0
7 2015-12-16  39.8 -5.48  29.0
8 2015-03-16  39.0 -5.56  28.8</code></pre>
<p>Here a list object is created before the loop that will store data frame converted from matrix embedded in an array. Note that, in this case, the variable <code>i</code> is playing two roles. It is the loop variable, but it is also the index to the list object. This is one of the most powerful aspects of having a loop variable.</p>
<p>NESTED LOOPS
Loops are assigned a variable for two purposes.The first is so that the variable can be used to perform some useful function, e.g., as an index to an array or matrix. The second is because loops may exist within other loops, and we need variables to make it clear where in the iteration sequence we are.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>N){
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>M){
    COMMANDS HERE
    }
}</code></pre>
<p>The nested loop can be illustrated with the chunk below. In my working directory I have three Excel spreadsheet files containing the monthly average of chlorophyll-a, primary productivity and sea surface temperature.</p>
<pre class="sourceCode r"><code class="sourceCode r">tafiri =<span class="st"> </span><span class="kw">dir</span>(<span class="dt">pattern =</span> <span class="st">&quot;tafiri_&quot;</span>)
tafiri</code></pre>
<pre><code>[1] &quot;tafiri_chl.xlsx&quot; &quot;tafiri_pp.xlsx&quot;  &quot;tafiri_sst.xlsx&quot;</code></pre>
<p>Each file has four sheets containing values from four different sites: Pemba, Zanzibar and Mafia Channels and Exclusive Economic Zone.</p>
<pre class="sourceCode r"><code class="sourceCode r">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&quot;./images/tafiriData.png&quot;</span>)</code></pre>
<p><img src="images/tafiriData.png" width="549" /></p>
<p>Our task is to automate the process and instruct computer to do two task. First is to read each file from the working directory. The second task is to process the the data from each sheet in the file and tidy the variable in the right order. The later processs involves three steps. First is to assign the variables with appropriate names. The second is to mutate the new variables: month, day site, variables for each sheet and arrange them appropriate. The third process stitch the processed data frame below the former one.</p>
<p>In simple language I can explain this code as. The <code>var</code> and <code>sites</code> were created to correspond the order of files in the directory and sites in each file sheet, respectively. Because once each sheet is procesed is stitched, I created and <code>tafiri.data</code> as an empty object to store the files. Once these three files are created, it is ready to iterate the process. The loop goes like this: the <code>i</code> is set to 1 (which is chl) to read the first file, then <code>j</code> set to sheet in each site, which is looped from 1 (Pemba channel) to 4 (EEZ). Then <code>i</code> is set to 2 (pp) and <code>j</code> is again looped from 1 (Pemba) to 4 (EEZ) and so on until <code>i</code> = 3 (SST). A sample of the dataset is shown in table <a href="control-flow.html#tab:tab99">11.1</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## make a vector of variables. The order must be consistency with the files order in </span>
var =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;chl&quot;</span>, <span class="st">&quot;pp&quot;</span>, <span class="st">&quot;sst&quot;</span>)
<span class="co">## make a vector of site. The order must be consistency with the sheets in files</span>
sites =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Pemba&quot;</span>, <span class="st">&quot;Zanzibar&quot;</span>, <span class="st">&quot;Mafia&quot;</span>, <span class="st">&quot;EEZ&quot;</span>)

<span class="co">## preallocate an empty object</span>
tafiri.data =<span class="st"> </span><span class="ot">NULL</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(var)){
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(sites)){
    
  data =<span class="st"> </span>readxl<span class="op">::</span><span class="kw">read_excel</span>(<span class="dt">path =</span> tafiri[i], <span class="dt">sheet =</span> j)<span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">rename</span>(<span class="dt">date =</span> <span class="dv">1</span>, <span class="dt">year =</span> <span class="dv">2</span>, <span class="dt">value =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">month =</span> lubridate<span class="op">::</span><span class="kw">month</span>(date), 
         <span class="dt">day =</span> <span class="dv">15</span>,
         <span class="dt">site =</span> sites[j], 
         <span class="dt">variable =</span> var[i],
         <span class="dt">date =</span> lubridate<span class="op">::</span><span class="kw">make_date</span>(<span class="dt">year =</span> year, <span class="dt">month =</span> month, <span class="dt">day =</span> day)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">arrange</span>(date)
    
<span class="co">## stitch processed data frame from each sheet    </span>
tafiri.data =<span class="st"> </span>tafiri.data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">bind_rows</span>(data)
 
  }
}</code></pre>
<p>Note that when use <code>i</code> and <code>j</code> variable in a for loop, it’s better to create an empty object with <code>NULL</code> instead of list files with a`list() function</p>
<table>
<caption>
<span id="tab:tab99">Table 11.1: </span>Sample of the tafiri dataset
</caption>
<thead>
<tr>
<th style="text-align:center;">
Site
</th>
<th style="text-align:center;">
Date
</th>
<th style="text-align:center;">
Day
</th>
<th style="text-align:center;">
Month
</th>
<th style="text-align:center;">
Year
</th>
<th style="text-align:center;">
Variable
</th>
<th style="text-align:center;">
Value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;width: 2cm; ">
EEZ
</td>
<td style="text-align:center;width: 2cm; ">
2007-05-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
5
</td>
<td style="text-align:center;width: 2cm; ">
2007
</td>
<td style="text-align:center;width: 2cm; ">
sst
</td>
<td style="text-align:center;width: 2cm; ">
28.74
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Zanzibar
</td>
<td style="text-align:center;width: 2cm; ">
2009-02-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
2
</td>
<td style="text-align:center;width: 2cm; ">
2009
</td>
<td style="text-align:center;width: 2cm; ">
pp
</td>
<td style="text-align:center;width: 2cm; ">
707.78
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Zanzibar
</td>
<td style="text-align:center;width: 2cm; ">
2014-01-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
1
</td>
<td style="text-align:center;width: 2cm; ">
2014
</td>
<td style="text-align:center;width: 2cm; ">
sst
</td>
<td style="text-align:center;width: 2cm; ">
28.80
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Pemba
</td>
<td style="text-align:center;width: 2cm; ">
2005-09-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
9
</td>
<td style="text-align:center;width: 2cm; ">
2005
</td>
<td style="text-align:center;width: 2cm; ">
chl
</td>
<td style="text-align:center;width: 2cm; ">
0.40
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Pemba
</td>
<td style="text-align:center;width: 2cm; ">
2004-02-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
2
</td>
<td style="text-align:center;width: 2cm; ">
2004
</td>
<td style="text-align:center;width: 2cm; ">
sst
</td>
<td style="text-align:center;width: 2cm; ">
29.23
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Mafia
</td>
<td style="text-align:center;width: 2cm; ">
2007-12-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
12
</td>
<td style="text-align:center;width: 2cm; ">
2007
</td>
<td style="text-align:center;width: 2cm; ">
chl
</td>
<td style="text-align:center;width: 2cm; ">
0.95
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Zanzibar
</td>
<td style="text-align:center;width: 2cm; ">
2006-07-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
7
</td>
<td style="text-align:center;width: 2cm; ">
2006
</td>
<td style="text-align:center;width: 2cm; ">
sst
</td>
<td style="text-align:center;width: 2cm; ">
25.89
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Pemba
</td>
<td style="text-align:center;width: 2cm; ">
2011-08-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
8
</td>
<td style="text-align:center;width: 2cm; ">
2011
</td>
<td style="text-align:center;width: 2cm; ">
sst
</td>
<td style="text-align:center;width: 2cm; ">
26.07
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Pemba
</td>
<td style="text-align:center;width: 2cm; ">
2017-08-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
8
</td>
<td style="text-align:center;width: 2cm; ">
2017
</td>
<td style="text-align:center;width: 2cm; ">
sst
</td>
<td style="text-align:center;width: 2cm; ">
26.15
</td>
</tr>
<tr>
<td style="text-align:center;width: 2cm; ">
Zanzibar
</td>
<td style="text-align:center;width: 2cm; ">
2006-09-15
</td>
<td style="text-align:center;width: 2cm; ">
15
</td>
<td style="text-align:center;width: 2cm; ">
9
</td>
<td style="text-align:center;width: 2cm; ">
2006
</td>
<td style="text-align:center;width: 2cm; ">
chl
</td>
<td style="text-align:center;width: 2cm; ">
0.39
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="if-and-else-statement" class="section level2">
<h2><span class="header-section-number">11.2</span> if and else statement</h2>
<p>The second important staments to control the flow of script are <code>if-else</code> constructs, which evaluate an expression and then execute a group of instructions if the expression is true. Conditions can be more complicated than a single question, and <code>if</code> statements can also be combined with multiple questions and different responses based on the answer to each questions. As an example, we might ask, "Is the surface temperature higher than 26 degreee celcius? and if the answer is <code>yes</code>, respond with <em>that is ideal</em>. An <code>if-else</code> statement like this might be writen in R like this:</p>
<pre class="sourceCode r"><code class="sourceCode r">optimal =<span class="st"> </span><span class="dv">25</span>
measured =<span class="st"> </span><span class="dv">21</span>

<span class="cf">if</span> (measured <span class="op">&lt;</span><span class="st"> </span>optimal){
  <span class="kw">print</span>(<span class="st">&quot;temperature is ideal&quot;</span>)
  }<span class="cf">else</span>{
    <span class="kw">print</span>(<span class="st">&quot;Temperature is not ideal&quot;</span>)
  }</code></pre>
<pre><code>[1] &quot;temperature is ideal&quot;</code></pre>
<p>An <code>if-else</code> stamement in the chunk above first evaluates whether the measured temperature is less than optimaland. If the evaluation is <strong>YES</strong> or <strong>TRUE</strong>, the <code>temperature is ideal</code> is displayed. If the answer is <strong>NO</strong>, the <code>else</code> command, which provides an alternative statement precede and display <code>Temperatue is not ideal</code>.</p>
<p>We can also nest as many <code>if-else</code> statements in a one block of code</p>
<pre class="sourceCode r"><code class="sourceCode r">optimal =<span class="st"> </span><span class="dv">25</span>
measured =<span class="st"> </span><span class="fl">30.2</span>

<span class="cf">if</span> (measured <span class="op">&lt;</span><span class="st"> </span>optimal){
  <span class="kw">print</span>(<span class="st">&quot;temperature is ideal&quot;</span>)
  }<span class="cf">else</span> <span class="cf">if</span>( measured <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>measured <span class="op">&lt;=</span><span class="st"> </span><span class="fl">26.5</span>){
    <span class="kw">print</span>(<span class="st">&quot;Temperature is ideal but a bit higher&quot;</span>)
  }<span class="cf">else</span> <span class="cf">if</span>(measured <span class="op">&gt;</span><span class="fl">26.5</span> <span class="op">&amp;</span><span class="st"> </span>measured <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>){
    <span class="kw">print</span>(<span class="st">&quot;Temperature is not ideal&quot;</span>)
  }<span class="cf">else</span>{
    <span class="kw">print</span>(<span class="st">&quot;Avoid it at all cost&quot;</span>)
  }</code></pre>
<pre><code>[1] &quot;Avoid it at all cost&quot;</code></pre>
<p>Once we know the basic principal of <code>for</code> loop and <code>if-else</code> statment, we can combine them to answer a identify months with ideal temperature versus those with unsuitbale temperature.The combined statement can be written as:</p>
<pre class="sourceCode r"><code class="sourceCode r">temperature =<span class="st"> </span><span class="kw">c</span>(<span class="fl">28.6</span>,<span class="fl">28.8</span>,<span class="dv">29</span>,<span class="dv">28</span>,<span class="fl">27.8</span>,<span class="fl">27.2</span>,<span class="fl">26.8</span>,<span class="dv">25</span>,<span class="fl">26.2</span>,<span class="fl">27.2</span>,<span class="fl">27.5</span>,<span class="fl">27.8</span>)
months =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>,
           <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span>)
ideal =<span class="st"> </span><span class="dv">27</span>

<span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(temperature)){
  <span class="cf">if</span> (temperature[i] <span class="op">&lt;</span><span class="st"> </span><span class="dv">27</span>){
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Temperature for &quot;</span>,months[i], <span class="st">&quot;is ideal&quot;</span>))
  } <span class="cf">else</span>{
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Temperature for &quot;</span>,months[i], <span class="st">&quot;is not ideal&quot;</span>))
  }
}</code></pre>
<pre><code>[1] &quot;Temperature for  Jan is not ideal&quot;
[1] &quot;Temperature for  Feb is not ideal&quot;
[1] &quot;Temperature for  Mar is not ideal&quot;
[1] &quot;Temperature for  Apr is not ideal&quot;
[1] &quot;Temperature for  May is not ideal&quot;
[1] &quot;Temperature for  Jun is not ideal&quot;
[1] &quot;Temperature for  Jul is ideal&quot;
[1] &quot;Temperature for  Aug is ideal&quot;
[1] &quot;Temperature for  Sep is ideal&quot;
[1] &quot;Temperature for  Oct is not ideal&quot;
[1] &quot;Temperature for  Nov is not ideal&quot;
[1] &quot;Temperature for  Dec is not ideal&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(temperature)){
<span class="cf">if</span> (temperature[i] <span class="op">&lt;</span><span class="st"> </span>ideal){
  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Temperature for&quot;</span>,months[i],<span class="st">&quot; is ideal&quot;</span>))
  }<span class="cf">else</span> <span class="cf">if</span>( temperature[i] <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span> <span class="op">&amp;</span><span class="st"> </span>temperature[i] <span class="op">&lt;=</span><span class="st"> </span><span class="fl">26.5</span>){
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Temperature for&quot;</span>,months[i],<span class="st">&quot;is ideal but a bit higher&quot;</span>))
  }<span class="cf">else</span> <span class="cf">if</span>(temperature[i] <span class="op">&gt;</span><span class="fl">26.5</span> <span class="op">&amp;</span><span class="st"> </span>temperature[i] <span class="op">&lt;</span><span class="st"> </span><span class="dv">30</span>){
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Temperature for&quot;</span>,months[i],<span class="st">&quot;is not ideal&quot;</span>))
  }<span class="cf">else</span>{
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Temperature for&quot;</span>,months[i],<span class="st">&quot;avoid it at all cost&quot;</span>))
  }
}</code></pre>
<pre><code>[1] &quot;Temperature for Jan is not ideal&quot;
[1] &quot;Temperature for Feb is not ideal&quot;
[1] &quot;Temperature for Mar is not ideal&quot;
[1] &quot;Temperature for Apr is not ideal&quot;
[1] &quot;Temperature for May is not ideal&quot;
[1] &quot;Temperature for Jun is not ideal&quot;
[1] &quot;Temperature for Jul  is ideal&quot;
[1] &quot;Temperature for Aug  is ideal&quot;
[1] &quot;Temperature for Sep  is ideal&quot;
[1] &quot;Temperature for Oct is not ideal&quot;
[1] &quot;Temperature for Nov is not ideal&quot;
[1] &quot;Temperature for Dec is not ideal&quot;</code></pre>
</div>
<div id="functions-1" class="section level2">
<h2><span class="header-section-number">11.3</span> Functions</h2>
<p>In R, functions are treaed as first–class objects similar to other data types like numeric, character or vector. This is the fundamental property of <em>functional programming</em> languages.</p>
<div id="core-functions" class="section level3">
<h3><span class="header-section-number">11.3.1</span> core functions</h3>
<p>R provides functions for common tasks like plotting, statistics and numerical analysis. In practice, most of the interactions we have with R is through functions—either provided by the base system or in packages.</p>
<p>The syntax for calling a function in R is similar to most other programming languages. FOr instance, we use the function <code>mean()</code> to compute the average of a vector of numbers. This function is provided by the base package</p>
<pre class="sourceCode r"><code class="sourceCode r">temperature =<span class="st"> </span><span class="kw">c</span>(<span class="fl">28.6</span>,<span class="fl">28.8</span>,<span class="dv">29</span>,<span class="dv">28</span>,<span class="fl">27.8</span>,<span class="fl">27.2</span>,<span class="fl">26.8</span>,<span class="dv">25</span>,<span class="fl">26.2</span>,<span class="fl">27.2</span>,<span class="fl">27.5</span>,<span class="fl">27.8</span>)
<span class="kw">mean</span>(temperature)</code></pre>
<pre><code>[1] 27.49167</code></pre>
<p>Sometimes you might need to extend some function that are neither offered by base nor by other packages. Then you need to define your own function to perform a particular task. For instance, we need to log–transform climatological monthly sea surface height anomaly. Let’s first create ana imaginary ssh anomaly</p>
<pre class="sourceCode r"><code class="sourceCode r">ssh.anomaly =<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.2</span>,<span class="fl">1.1</span>,<span class="fl">0.8</span>,<span class="fl">0.2</span>,<span class="dv">0</span>,<span class="op">-</span><span class="fl">0.1</span>,<span class="op">-</span><span class="fl">0.52</span>,<span class="op">-</span><span class="fl">0.4</span>,<span class="fl">0.12</span>,<span class="fl">0.58</span>,<span class="fl">0.89</span>, <span class="fl">1.02</span>)
<span class="kw">log</span>(ssh.anomaly)</code></pre>
<pre><code> [1]  0.18232156  0.09531018 -0.22314355 -1.60943791        -Inf
 [6]         NaN         NaN         NaN -2.12026354 -0.54472718
[11] -0.11653382  0.01980263</code></pre>
<p>We notice that <code>log()</code> function returns <code>NaN</code> for negative elements and <code>Inf</code> for zeros. only positive elements returned with numeric values. From the results above, it is clear that <code>log()</code> function never works with negative and zeros. Therefore, for this kind of data like the ssh anomaly where numeric values ranges from negative to positive with some instance of zeros, another function for transofrmation is needed. Unfortunately there is none at present from R. That’s when creating your own functions matters.</p>
</div>
<div id="user-defined-functions" class="section level3">
<h3><span class="header-section-number">11.3.2</span> user defined functions</h3>
<p>R has a special syntax for defining functions. Like other programming languages, R offers a <code>function()</code> sysntax that allows to speficy the function name, parameters along with body of statements that executes and produce results and a <code>return()</code> funtion to output the result. The syntax for defining function is similar to that of creating objects, using the assignment operator either <code>&lt;-</code> or <code>=</code> depending on your preference. For instance, We create a function and assign it a name <code>inverse_hyperbolic</code>, which transform data close to logged but allows for zeros and negative, which log() function returns infinity and NaN, respectively.</p>
<pre class="sourceCode r"><code class="sourceCode r">inverse_hyperbolic =<span class="st"> </span><span class="cf">function</span>(<span class="dt">x =</span> <span class="st">&quot;a numeric, a data frame or matrix&quot;</span>){
    output =<span class="st"> </span><span class="kw">log</span>(x <span class="op">+</span><span class="st"> </span><span class="kw">sqrt</span>(x<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span>))
  <span class="kw">return</span>(output)
  
}</code></pre>
<p>It’s not necessary to specify the return value in function. The principal is that the last item evaluated in the function is automatically considered as the return value. However, we defined the <code>return()</code> for <code>inverse_hyperbolic</code> functionw to print out the result.</p>
<p>Using the function we created is very simple, for instance we can tranform the ssh anaomaly with the function we just created as highlighted in the chunk below;</p>
<pre class="sourceCode r"><code class="sourceCode r">ssh.anomaly.transofrm =<span class="st"> </span><span class="kw">inverse_hyperbolic</span>(ssh.anomaly)
ssh.anomaly.transofrm</code></pre>
<pre><code> [1]  1.01597313  0.95034693  0.73266826  0.19869011  0.00000000
 [6] -0.09983408 -0.49902844 -0.39003532  0.11971385  0.55159956
[11]  0.80141549  0.89544525</code></pre>
<p>The literal name of our function <code>inverse-hyperbolic</code>, corresponds to the function object, while the <code>ssh.anomaly.transofrm</code> is the result of the call returned by the input <code>ssh.anomaly</code> after evaluated with <code>inverse_hypperbolic()</code> function.</p>
<p>We can also create a function that repeate common task</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">## This function convert matrix into a data frame that is suibtable for tidyverse ecosystem.</span>
<span class="co">##</span>
matrix_tb &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">x=</span><span class="st">&quot;supply the vector containing the the x value of the array&quot;</span>,
                      <span class="dt">y =</span> <span class="st">&quot; supply the vector containing the y value of the array&quot;</span>,
                      <span class="dt">data =</span> <span class="st">&quot;supply the the matrix from the array&quot;</span>){

  <span class="cf">if</span>(<span class="op">!</span><span class="kw">is.matrix</span>(data)){
    <span class="kw">stop</span>(<span class="st">&quot;you supplied unsupported file, only matrix format file is acceptable&quot;</span>)
  }<span class="cf">else</span>{


  <span class="kw">require</span>(magrittr)
  <span class="kw">require</span>(tidyverse)  

  dimension &lt;-<span class="st"> </span><span class="kw">data.frame</span>(x, data) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">dim</span>()

  output &lt;-<span class="st"> </span><span class="kw">data.frame</span>(x, data) <span class="op">%&gt;%</span>
<span class="st">    </span>tidyr<span class="op">::</span><span class="kw">gather</span>(<span class="dt">key =</span> <span class="st">&quot;lati&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;value&quot;</span>,<span class="dv">2</span><span class="op">:</span>dimension[<span class="dv">2</span>]) <span class="op">%&gt;%</span>
<span class="st">    </span>dplyr<span class="op">::</span><span class="kw">mutate</span>(<span class="dt">y =</span> <span class="kw">rep</span>(y, <span class="dt">each =</span> dimension[<span class="dv">1</span>])) <span class="op">%&gt;%</span>
<span class="st">    </span>dplyr<span class="op">::</span><span class="kw">select</span>(x,y, value) <span class="op">%&gt;%</span>
<span class="st">    </span>tibble<span class="op">::</span><span class="kw">as_tibble</span>()

  <span class="kw">return</span>(output)
  }
}</code></pre>
</div>
</div>
<div id="packages" class="section level2">
<h2><span class="header-section-number">11.4</span> packages</h2>
<p>In R packages refers to a collection of functions bundled together. In addition to functions, an R package can also contain datasets along with the dependincies. When you start R, the base packages is loaded also by default. The base packages contain basic functions for arithmetic, importing and exporting of dataset, plotting and numerous other simple tasks.</p>
<p>In additon to base packages, there are thousands of packages avaialble in the CRAN covering. We can install these packages from R using the <code>install.packages()</code> function—which downloads the sources files for the packages from CRAN mirror websites and store the package in a local repository.</p>
<p>We neeed to call <code>install.packages()</code> once to install the package(s). Once the package is installed, we use either <code>library()</code> or <code>require()</code> to load the functions into the workspace. We use several packages in this book and load them with the <code>require()</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(EnvStats)</code></pre>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-tidyverse">
<p>Wickham, Hadley. 2017. <em>Tidyverse: Easily Install and Load the ’Tidyverse’</em>. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a>.</p>
</div>
<div id="ref-dplyr">
<p>Wickham, Hadley, Romain François, Lionel Henry, and Kirill Müller. 2019. <em>Dplyr: A Grammar of Data Manipulation</em>. <a href="https://CRAN.R-project.org/package=dplyr">https://CRAN.R-project.org/package=dplyr</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="working-with-dates-and-time.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="functions-and-packages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["spatil_r.pdf", "spatil_r.epub", "spatil_r.mobi"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
